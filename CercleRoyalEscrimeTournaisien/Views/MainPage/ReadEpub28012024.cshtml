@model CercleRoyalEscrimeTournaisien.Models.ModelEpub20042023
<!DOCTYPE html>

@section css {
    <link href="@Url.Content("~/Content/MainPage.css")" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link id="themecss" rel="stylesheet" type="text/css" href="//www.shieldui.com/shared/components/latest/css/light/all.min.css" />
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link href="@Url.Content("~/Content/MainPage.css")" rel="stylesheet" />
    <link href="@Url.Content("~/Content/ShowMenuPrincipal.css")" rel="stylesheet" />
    <link href="@Url.Content("~/Content/AgendaStyle.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/HistoriqueStyle.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("/Content/CategoriesStyle.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/QuelquesSitesStyle.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/ReadEpub20042023.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/ReadEpub28012024.css")" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="~/Content/ReadEpub20042023.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src='~/Scripts/MainPage.js'></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.bundle.min.js"></script>

    <link id="themecss" rel="stylesheet" type="text/css" href="//www.shieldui.com/shared/components/latest/css/light/all.min.css" />
    <script type="text/javascript" src="//www.shieldui.com/shared/components/latest/js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="//www.shieldui.com/shared/components/latest/js/shieldui-all.min.js"></script>

    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.responsivevoice.org/1.8.3/responsivevoice.js?source=wp-plugin&key=kvfbSITh&ver=6.2.5"></script>

    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
}

@{
    var urlConvert = Url.Content("~/Home/Photos/NewEpub28012024/convert.png");
    var urlOpen = Url.Content("~/Home/Photos/NewEpub28012024/open.png");

    var urlFlagFrance = Url.Content("~/Home/Photos/NewEpub28012024/flag France.png");
    var urlFlagAllemagne = Url.Content("~/Home/Photos/NewEpub28012024/flag allemagne.png");
    var urlFlagAngleterre = Url.Content("~/Home/Photos/NewEpub28012024/flag angleterre.png");
    var urlFlagEspagne = Url.Content("~/Home/Photos/NewEpub28012024/flag espagne.png");
    var urlFlagPaysBas = Url.Content("~/Home/Photos/NewEpub28012024/flag pays-bas.png");

    var urlFlagFranceson = Url.Content("~/Home/Photos/NewEpub28012024/flag France son.png");
    var urlFlagAllemagneson = Url.Content("~/Home/Photos/NewEpub28012024/flag allemagne son.png");
    var urlFlagAngleterreson = Url.Content("~/Home/Photos/NewEpub28012024/flag angleterre son.png");
    var urlFlagEspagneson = Url.Content("~/Home/Photos/NewEpub28012024/flag espagne son.png");
    var urlFlagPaysBasson = Url.Content("~/Home/Photos/NewEpub28012024/flag pays-bas son.png");

    var urlshowPartOfBook = Url.Content("~/Home/Photos/NewEpub28012024/showPartOfBook.PNG");

    var urlFlagarrowLeft = Url.Content("~/Home/Photos/NewEpub28012024/arrowLeft.PNG");
    var urlFlagarrowright = Url.Content("~/Home/Photos/NewEpub28012024/arrowright.PNG");
}
<html id="htmlId" style="height:100%">
<body>
    @Html.Hidden("PositionDepartMouse")
    @Html.Hidden("PositionArriveeMouse")

    <div id="idContainer" class="container">
        <div>
            <input type="file" title=" " id="inputFile" name="inputFile" style="display:none;" />
            <img class="imgGsm" id="imgPhotoConvert" src="@urlConvert" />
            <img class="imgGsm" id="imgPhotoOpen" src="@urlOpen" />
        </div>

        <div class="separatorMarge"></div>

        <div>
            <img class="imgGsm" id="imgPhotoshowPartOfBook" src="@urlshowPartOfBook" onclick="ShowOrHideElement('divShowOrHidePartOfBook');" />
        </div>

        <div class="separatorMarge"></div>

        <div>
            <img class="imgGsm" id="imgPhotoFlagFrancais" src="@urlFlagFrance" />
            <img class="imgGsm" id="imgPhotoFlagAngleterre" src="@urlFlagAngleterre" onclick="imgPhotoFlagAngleterreClick();" />
            <img class="imgGsm" id="imgPhotoFlagEspagne" src="@urlFlagEspagne" onclick="imgPhotoFlagEspagneClick();" />
            <img class="imgGsm" id="imgPhotoFlagPaysBas" src="@urlFlagPaysBas" onclick="imgPhotoFlagPaysBasClick();" />
            <img class="imgGsm" id="imgPhotoFlagAllemagne" src="@urlFlagAllemagne" onclick="imgPhotoFlagAllemagneClick();" />
        </div>

        <div class="separatorMarge"></div>

        <div>
            <img class="imgGsm" id="imgPhotoFlagFrancaisson" src="@urlFlagFranceson" onclick="imgPhotoFlagFrancaisSonClick();" />
            <img class="imgGsm" id="imgPhotoFlagAngleterreson" src="@urlFlagAngleterreson" onclick="imgPhotoFlagAngleterresonClick();" />
            <img class="imgGsm" id="imgPhotoFlagEspagneson" src="@urlFlagEspagneson" onclick="imgPhotoFlagEspagnesonClick();" />
            <img class="imgGsm" id="imgPhotoFlagPaysBasson" src="@urlFlagPaysBasson" onclick="imgPhotoFlagPaysBassonlick();" />
            <img class="imgGsm" id="imgPhotoFlagAllemagneson" src="@urlFlagAllemagneson" onclick="imgPhotoFlagAllemagnesonClick();" />
        </div>
    </div>
    <hr>

    <div style="display: flex; height: 40px; margin-bottom: 20px;">
        <input style="width: 100%;" id="inputRange" onmousemove="showTooltip()" onchange="changeInputRange();" type="range" min="0" max="0" value="0">
    </div>

    <div class="ma-bordure-image" style="display:none;" id="divShowOrHidePartOfBook">
        <textarea id="ShowOrHidePartOfBookID" style="height: 300px; width: 100%; border: none; outline: 0px none transparent;"></textarea>
    </div>

    <div id="divTextAreaFrance">
        <i class='fa fa-play fa-play-Benoit' id="elementIForTextAreaFrance" style='cursor:pointer; font-size: 15px; margin-right: 3px;' onclick="ListenSentence28012024('1');"></i>
        <div class="ma-bordure-image"  style=" margin-top: -13px; ">
            <textarea class="TextAreaTextClass" id="TextAreaFrance" style=" width: 100%; border: none;  "></textarea>
        </div>
    </div>

    <hr />
    <div id="divTextAreaAngleterre">
        <i class='fa fa-play fa-play-Benoit' id="elementIForTextAreaAngleterre" style='cursor: pointer; font-size: 15px; margin-right: 3px;' onclick="ListenSentence28012024('2');"></i>
        <div class="ma-bordure-image"  style=" margin-top: -13px; ">
            <textarea class="TextAreaTextClass" id="TextAreaAngleterre" style=" width: 100%; border: none;  "></textarea>
        </div>
    </div>

    <hr />

    <div id="divTextAreaEspagne">
        <i class='fa fa-play fa-play-Benoit' id="elementIForTextAreaEspagne" style='cursor: pointer; font-size: 15px; margin-right: 3px;' onclick="ListenSentence28012024('3');"></i>
        <div class="ma-bordure-image"  style=" margin-top: -13px; ">
            <textarea class="TextAreaTextClass" id="TextAreaEspagne" style=" width: 100%; border: none;  "></textarea>
        </div>
    </div>
    
    <hr />

    <div id="divTextAreaPaysBas">
        <i class='fa fa-play fa-play-Benoit' id="elementIForTextAreaPaysBas" style='cursor: pointer; font-size: 15px; margin-right: 3px;' onclick="ListenSentence28012024('4');"></i>
        <div class="ma-bordure-image" style=" margin-top: -13px; ">
            <textarea class="TextAreaTextClass" id="TextAreaPaysBas" style=" width: 100%; border: none;  "></textarea>
        </div>
    </div>
  
    <hr />

    <div id="divTextAreaAllemagne">
        <i class='fa fa-play fa-play-Benoit' id="elementIForTextAreaAllemagne" style='cursor: pointer; font-size: 15px; margin-right: 3px;' onclick="ListenSentence28012024('5');"></i>
        <div class="ma-bordure-image" style=" margin-top: -13px; ">
            <textarea class="TextAreaTextClass" id="TextAreaAllemagne" style=" width: 100%; border: none;  "></textarea>
        </div>
    </div>
   

    <script>
        var touchRegionElement = document.getElementById('htmlId');
        var outputElement = document.getElementById('output');

        touchRegionElement.addEventListener('touchstart', function (e) {
            $("#PositionDepartMouse").val(e.touches[0].clientX);
        });

        window.addEventListener('pointerdown', function (e) {
            $("#PositionDepartMouse").val(e.clientX);
        });

        touchRegionElement.addEventListener('touchend', function (e) {
            var direction = e.changedTouches[0].clientX - $("#PositionDepartMouse").val();
            ChangeDirection(direction);
        });

        window.addEventListener('pointerup', function (e) {
            var direction = e.clientX - $("#PositionDepartMouse").val();
            ChangeDirection(direction);
        });

        function ListenSentence28012024(index) {
            switch (index) {
                case "1":
                    ListenSentenceWithParameters('French Female', 'TextAreaFrance', 'elementIForTextAreaFrance');
                    break;
                case "2":
                    ListenSentenceWithParameters('UK English Female', 'TextAreaAngleterre', 'elementIForTextAreaAngleterre');
                    break;
                case "3":
                    ListenSentenceWithParameters('Spanish Latin American Female', 'TextAreaEspagne', 'elementIForTextAreaEspagne');
                    break;
                case "4":
                    ListenSentenceWithParameters('Dutch Male', 'TextAreaPaysBas', 'elementIForTextAreaPaysBas');
                    break;
                case "5":
                    ListenSentenceWithParameters('Deutsch Female', 'TextAreaAllemagne', 'elementIForTextAreaAllemagne');
                    break;
            }
        }

        function ListenSentenceWithParameters(voice, elementDivText, elementSonId) {
            if (responsiveVoice.isPlaying()) {
                setTimeout(function () {
                    ListenSentenceWithParameters(voice, elementDivText, elementSonId);
                }, 1600);
                
                return;
            }
            
            responsiveVoice.speak($('#' + elementDivText).val(), voice, {
                onend: function () {
                    $("#" + elementSonId).css('color', 'black');
                },
                onstart: function () {
                    $("#" + elementSonId).css('color', 'blue');
                },
                onerror: function (e) {
                    alert(e);
                }
            });            
        }

        function ChangeDirection(direction) {
            var directionMax = 650;
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                directionMax = 50;
            }
            var directionMaxNegatif = directionMax * -1;

            if (direction < directionMaxNegatif || direction > directionMax) {
                if (direction < directionMaxNegatif) {
                    imgPhotoarrowLeftClick();
                }
                if (direction > directionMax) {
                    imgPhotoarrowrightClick();
                }
            }
        }
    </script>
</body>
</html>

<script>
    $(document).ready(function () {
        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            $(".separatorMarge").addClass("MargeMobile");
            $(".imgGsm").addClass('zoomImgForMobile');
        }
        else {
            $(".separatorMarge").addClass("MargePc");
            $(".imgGsm").addClass('zoomImgForPC');
        }

        imgPhotoFlagAngleterreClick(); imgPhotoFlagEspagneClick(); imgPhotoFlagPaysBasClick(); imgPhotoFlagAllemagneClick();
    });

    function showTooltip() {
        var text = $("#inputRange").val() + "/" + $("#inputRange").attr('max');
        $("#indexCurseur").text(text);
        $("#inputRange").attr('title', $("#inputRange").val());
    }

    function ClearAllInstance() {
        for (i = 0; i < 1000; i++) {
            window.clearInterval(i);
        }
    }

    function imgPhotoFlagFrancaisSonClick() {
        ClearAllInstance();
        imgPhotoarrowrightClick();
        setTimeout(function () {
            responsiveVoice.speak($('#TextAreaFrance').val(), 'French Female', {
                onend: function () {
                    imgPhotoFlagFrancaisSonClick();
                },
                onerror: function (e) {
                    alert(e);
                }

            });
        }, 1600);


    }

    function imgPhotoFlagAngleterresonClick() {
        ClearAllInstance();

        imgPhotoarrowrightClick();
        setTimeout(function () {
            responsiveVoice.speak($("#TextAreaAngleterre").val(), 'UK English Female', {
                onend: function () {
                    imgPhotoFlagAngleterresonClick();
                }
            });
        }, 1600);
    }

    function imgPhotoFlagEspagnesonClick() {
        ClearAllInstance();

        imgPhotoarrowrightClick();
        setTimeout(function () {
            responsiveVoice.speak($("#TextAreaEspagne").val(), 'Spanish Latin American Female', {
                onend: function () {
                    imgPhotoFlagEspagnesonClick();
                }
            });
        }, 1600);
    }

    function imgPhotoFlagPaysBassonlick() {
        ClearAllInstance();

        imgPhotoarrowrightClick();
        setTimeout(function () {
            responsiveVoice.speak($("#TextAreaPaysBas").val(), 'Dutch Male', {
                onend: function () {
                    imgPhotoFlagPaysBassonlick();
                }
            });
        }, 1600);
    }

    function imgPhotoFlagAllemagnesonClick() {
        ClearAllInstance();

        imgPhotoarrowrightClick();
        setTimeout(function () {
            responsiveVoice.speak($("#TextAreaAllemagne").val(), 'Deutsch Female', {
                onend: function () {
                    imgPhotoFlagAllemagnesonClick();
                }
            });
        }, 1600);
    }

    function imgPhotoarrowLeftClick() {
        var indexDepart = $("#inputRange").val();
        var indexFin = parseInt(indexDepart) - 1;
        $("#inputRange").prop("value", indexFin);
        changeInputRange();
    }

    function imgPhotoarrowrightClick() {
        var indexDepart = $("#inputRange").val();
        var indexFin = parseInt(indexDepart) + 1;
        $("#inputRange").prop("value", indexFin);
        changeInputRange();
        if ($("#TextAreaFrance").val() == "--") { imgPhotoarrowrightClick(); }
        ChangeTailleTextArea("TextAreaFrance");
    }

    function ChangeTailleTextArea(element) {
        $("#" + element).height(80);
        var tailleScroll = ($("#" + element)[0].scrollHeight - 80) / 10;        
        var tailledivTextAreaFrance = 80 + (10 * tailleScroll);
        $("#" + element).height(tailledivTextAreaFrance);
    }

    function imgPhotoFlagAllemagneClick() {
        ShowOrHideElement('divTextAreaAllemagne');
        ConvertDisplaySon('imgPhotoFlagAllemagne', 'imgPhotoFlagAllemagneson');
        ConvertDisplay('imgPhotoFlagAllemagne');
    }

    function imgPhotoFlagAngleterreClick() {
        ShowOrHideElement('divTextAreaAngleterre');
        ConvertDisplaySon('imgPhotoFlagAngleterre', 'imgPhotoFlagAngleterreson');
        ConvertDisplay('imgPhotoFlagAngleterre');
    }

    function imgPhotoFlagEspagneClick() {
        ShowOrHideElement('divTextAreaEspagne');
        ConvertDisplaySon('imgPhotoFlagEspagne', 'imgPhotoFlagEspagneson');
        ConvertDisplay('imgPhotoFlagEspagne');
    }

    function imgPhotoFlagPaysBasClick() {
        ShowOrHideElement('divTextAreaPaysBas');
        ConvertDisplaySon('imgPhotoFlagPaysBas', 'imgPhotoFlagPaysBasson');
        ConvertDisplay('imgPhotoFlagPaysBas');
    }

    function ConvertDisplay(element) {
        if ($("#" + element).hasClass('classDisplay')) {
            $("#" + element).removeClass('classDisplay');
        }
        else {
            $("#" + element).addClass('classDisplay');
        }
    }

    function ConvertDisplaySon(element1, element2) {
        if ($("#" + element1).hasClass('classDisplay')) {
            $("#" + element2).css('display', 'inline-block');
        }
        else {
            $("#" + element2).css('display', 'none');
        }
    }

    function ShowOrHideElement(element) {
        if ($("#" + element).css('display') == 'block') {
            $("#" + element).css('display', 'none');
            $("#" + element).next('hr').css('display', 'none');
        }
        else {
            $("#" + element).css('display', 'block');
            $("#" + element).next('hr').css('display', 'block');
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                $('hr').css('margin-top', '8px');
                $('hr').css('margin-bottom', '8px');
            }
            else {
                $('hr').css('margin-top', '20px');
                $('hr').css('margin-bottom', '20px');
            }

            setTimeout(function () {
                changeInputRange();

            }, 100);
        }
    }

    function changeInputRange() {
        var indexDepart = $("#inputRange").val();
        var indexFin = parseInt(indexDepart) + 100;
        var textToShow = "";

        if ($("#rowsToRead_" + indexDepart + "_").val() == "" || $("#rowsToRead_" + indexDepart + "_").val() == undefined) { return; }

        $("#ShowOrHidePartOfBookID").val('');

        for (i = indexDepart; i < indexFin; i++) {
            textToShow = textToShow + i + ". " + $("#rowsToRead_" + i + "_").val() + "\r\n" + "\r\n";
        }

        $("#ShowOrHidePartOfBookID").val(textToShow);

        $("#TextAreaFrance").val($("#rowsToRead_" + indexDepart + "_").val())
        if (!$("#imgPhotoFlagEspagne").hasClass("classDisplay")) { TranslateOtherLanguageThanFrench($("#rowsToRead_" + indexDepart + "_").val(), 'spa', 'TextAreaEspagne');  }
        if (!$("#imgPhotoFlagAngleterre").hasClass("classDisplay")) { TranslateOtherLanguageThanFrench($("#rowsToRead_" + indexDepart + "_").val(), 'eng', 'TextAreaAngleterre'); }
        if (!$("#imgPhotoFlagAllemagne").hasClass("classDisplay")) { TranslateOtherLanguageThanFrench($("#rowsToRead_" + indexDepart + "_").val(), 'ger', 'TextAreaAllemagne'); }
        if (!$("#imgPhotoFlagPaysBas").hasClass("classDisplay")) { TranslateOtherLanguageThanFrench($("#rowsToRead_" + indexDepart + "_").val(), 'dut', 'TextAreaPaysBas'); }

        $("#ShowOrHidePartOfBookID").scrollTop(0);
    }
</script>

<script src="~/Scripts/ReadEpub28012024.js" type="text/javascript"></script>